<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="wrapper">
        <section>
            <div>
                <h5>
                    <button type="button" class="chevron back ui_btn md678 md768"></button>
                    <span class="ttl">Pharmaceutical Category</span>
                    <button type="button" class="sort ui_btn" title="Sort"></button>
                    <div class="slct">
                        <div class="o btn" data-selected>Sort Alphabetically</div>
                        <div class="o btn">Sort Chronologically</div>
                    </div>
                </h5>
                <div id="pie">
                    <div>antiseptics
                        <span class="dets btn">See details</span>
                    </div>
                    <div class="val" data-num="0"></div>
                    <div id="keys">
                        <span>Used</span><span>In Stock</span>
                    </div>
                </div>
                <div>
                    <table id="ctable">
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>antiseptics</td>
                                <td>28/40</td>
                                <td><div class="bar"></div></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="foot">
                        <button type="button" class="chevron back ui_btn"></button>
                        <i>0</i> of <i>10</i> of <i>1000</i>
                        <button type="button" class="chevron forwd ui_btn"></button>
                    </div>
                </div>
            </div>
            <div class="off">
                <h5>
                    <button type="button" class="chevron back ui_btn md678"></button>
                    <span class="ttl">New Category</span>
                </h5>
                <form id="pharm">
                    <div class="fmgp">
                        <label for="alias">Name</label>
                        <input type="text" name="name" id="alias" required>
                    </div>
                    <div class="fmgp">
                        <label for="vendor">Vendor</label>
                        <input type="text" name="vendor" id="vendor" required>
                    </div>
                    <div class="fmgp">
                        <label for="qty">Quantity</label>
                        <input type="number" name="quantity" id="qty" required>
                    </div>
                    <div class="fmgp">
                        <label for="desc">Description</label>
                        <textarea name="desc" id="desc" required></textarea>
                    </div>
                    <button class="sbmt_btn"><span>CREATE</span></button>
                </form>
            </div>
        </section>
        <section class="off">
            <div id="preview">
                <div>
                    <button type="button" class="times ui_btn"></button>
                    <button class="sbmt_btn" form="editpharm"><span>SAVE</span></button>
                </div>
                <div>
                    <button type="button" class="chevron back ui_btn md678"></button>
                    <div class="ttl">antiseptics</div>
                    <button type="button" class="pencil ui_btn"></button>
                    <button type="button" class="times ui_btn"></button>
                </div>
            </div>
            <div>
                <form id="editpharm">
                    <div class="label" data-for="name">Name</div>
                    <div class="txtinput" contenteditable="false">Antiseptics</div>
                    <div class="label" data-for="quantity">Quantity (cartons)</div>
                    <div class="txtinput" contenteditable="false">70</div>
                    <div class="label" data-for="vendor">Vendor</div>
                    <div class="txtinput" contenteditable="false">Lorem ipsum dolor sit amet consectetur.</div>
                    <div class="label" data-for="desc">Description</div>
                    <div class="txtinput" contenteditable="false">
                        Lorem ipsum dolor sit, amet consectetur adipisicing elit. Distinctio ut necessitatibus, quidem rerum inventore tempora! Beatae assumenda delectus esse quo.Lorem ipsum dolor sit ametLorem ipsum dolor sit ametLorem ipsum dolor sit ametLorem ipsum dolor sit amet
                    </div>
                </form>
            </div>
        </section>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            caches.open('pgs').then(cache => {
                const css = '../styles/pharmacy.css';
                cache.match(css).then(res => {
                    const link = document.createElement('link');
                    link.rel='stylesheet';
                    if (res && res.ok) {
                        link.href = res.url;
                        console.log("Found css in cache.");
                    } else {
                        console.log("Fetching css...")
                        link.href = css;
                    };
                    document.head.appendChild(link);
                }).then(() => {
                    const p = parent.document;
                    p.querySelector('.loader').classList.remove('on');
                    p.querySelector('iframe').classList.remove('off');
                });
            });
        });
        const num = 57;
        // document.querySelector('html').style.setProperty('--con-grad', num + '%');
        // document.querySelector('#pie > .val').setAttribute('data-num', num + '%');

        //readonly
        // document.getElementById('editpharm').querySelectorAll('input, textarea').forEach(elem => elem.readOnly = true);
    </script>
    <script type="module" src="../src/pharmacy.js"></script>
</body>
</html>