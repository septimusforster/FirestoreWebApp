<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="TeacherID" id="tID">
    <title>Educator portal</title>
    <link rel="stylesheet" href="../style/index.css">
</head>
<body>
    <div class="wrapper">
        <header class="header"></header>
        <div class="body">
            <div id="profile-wrapper">
                <h2>Profile</h2>
                <p id="avatar">
                    <img src="../img/avatar_male_man_portrait_icon.png" height="100" width="100" alt="Photo">
                </p>
                <div class="profile" style="display: none;">
                    <span>Name</span><span></span><hr>
                    <span>Alias</span><span></span><hr>
                    <span>Classes</span><span></span><hr>
                    <span>Subject</span><span></span>
                </div>
            </div>
            <div id="upload-wrapper">
                <h2>Upload</h2>
                <form action="#" name="formEl">
                    <div class="input-group">
                        <label for="categoryId">Activity</label>
                        <select name="category" id="categoryId" required>
                            <option value="">Choose activity</option>
                            <option value="note">Note</option>
                            <option value="exercise">Exercise</option>
                            <option value="test">Test</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="theClassroomId">Classroom</label>
                        <select name="theClassroom" id="theClassroomId" required>
                            <option value="">Choose classroom</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="theSubjectId">Subject</label>
                        <select name="theSubject" id="theSubjectId" required>
                            <option value="">Choose subject</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <!-- <input type="file" name="theFile" id="fileId" accept=".doc,.docx,application/msword,.pdf,image/*" /> -->
                        <input type="file" name="theFile" id="fileId" accept=".pdf,image/*" />
                        <label id="docpicker" for="fileId">Choose file.<span style="font-size: 50px;">&#128462;</span></label>
                        <p id="file-selected"></p>
                    </div>
                    <div class="input-group">
                        <label for="infoId">Comments (optional): <span>200 remaining</span></label>
                        <textarea name="info" id="infoId" maxlength="200" cols="30" rows="10" placeholder="Additional comments."></textarea>
                    </div>
                    <!-- <input type="hidden" name="theAuthorId" value="000000"> -->
                    <div class="input-group">
                        <input type="submit" value="Upload">
                    </div>
                </form>
            </div>
            <div id="documents-wrapper">
                <h2>Documents</h2>
                <div>
                    <span id="mode">Delete mode:</span>
                    <label class="switch" for="modes">
                        <input type="checkbox" name="modes" id="modes">
                        <span class="slider"></span>
                    </label>
                    <button type="submit" value="delete">Run</button>
                </div>
                <div>

                </div>
            </div>
        </div>
        <dialog id="to-download">
            <output></output><hr><br>
            <a href="#" onclick="this.parentElement.close()"></a>
            <a href="#" onclick="this.parentElement.close()" download></a>
        </dialog>
        <dialog id="to-delete">
            <output></output>
            <a href="#" onclick="this.parentElement.close()"></a>
        </dialog>
        <footer class="footer">Dynamax | &copy; 2018</footer>
    </div>
    <script type="module" src="../src/bundle.js"></script>
    <script>
        const fileId = document.querySelector('#fileId');
        const fileSelected = document.querySelector('#file-selected');
        fileId.onchange = (e) => {
            fileSelected.textContent = e.target.files[0].name;
        }
        // fileId.addEventListener('change', (e) => {
        //     fileSelected.textContent = e.target.files[0].name;
        // })
        const inputMode = document.querySelector('input#modes');
        const spanMode = document.querySelector('span#mode');
        inputMode.onchange = (e) => {
            if(inputMode.checked) {
                spanMode.textContent = "Download mode:";
                document.querySelector('#documents-wrapper button').classList.toggle('mode');
                document.querySelector('#documents-wrapper button').value = "download";
            } else {
                spanMode.textContent = "Delete mode:";
                document.querySelector('#documents-wrapper button').classList.toggle('mode');
                document.querySelector('#documents-wrapper button').value = "delete";
            }
        }
        const txtArea = document.querySelector('textarea');
        txtArea.addEventListener('keyup', (e) => {
            let remainder = e.target.maxLength - e.target.textLength;
            e.target.previousElementSibling.lastElementChild.textContent = remainder + " remaining."
        })
    </script>
    
</body>
</html>