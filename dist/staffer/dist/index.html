<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="TeacherID" id="tID">
    <title>Educator portal</title>
    <link rel="stylesheet" href="../style/main.css">
    <link rel="stylesheet" href="../style/index.css">
</head>
<body>
    <div id="container">
        <header class="fx-aic gp4">
            <span id="nav-title">Home</span>
            <nav class="fx-aic-jcc">
                <a class="on" href="index.html">Home</a>
                <a href="score.html">Scoring</a>
                <a href="register.html">Register</a>
                <a href="broadsheet.html">Broadsheet</a>
                <a href="../../result.html">Result</a>
            </nav>
            <button type="button" id="logout" title="logout"></button>
        </header>
        <main class="fx-ais-jcc">
            <aside>
                <div class="user fx-aic gp1">
                    <div id="avatar" class="bg-nop bg-pc-s7"></div>
                    <div>
                        <p>USERNAME</p>
                        <small>Full name</small>
                    </div>
                </div>
            </aside>
            <aside class="fx-aic-jcc">
                <div>
                    <b>ðŸš§</b>
                    <p>Site under maintenance</p>
                    <code></code>
                </div>
            </aside>
        </main>
    </div>
    <script src="../src/main.js"></script>
    <script>
        let storage = JSON.parse(sessionStorage.getItem('snapshotId'));
        //insert username and fullname
        if(storage){
            const userContainer = document.querySelector('#avatar+div');
            userContainer.querySelectorAll('p, small').forEach((el, ex) => {
                ex ? el.textContent = storage.data.fullName : el.textContent = storage.data.username;
            })
        }

        const codeEl = document.querySelector('aside code');
        codeEl.textContent = btoa(Date.now().toString());
        function* myGenFunc(){
            yield codeEl.textContent = new Date().toISOString();
            yield codeEl.textContent = "'Til somewhere around Christmas of '27.";
        }
        let yd = myGenFunc();
        codeEl.addEventListener('click', () => yd.next());
    </script>
    <!-- <script>
        const fileId = document.querySelector('#fileId');
        const fileSelected = document.querySelector('#file-selected');
        fileId.onchange = (e) => {
            fileSelected.textContent = e.target.files[0].name;
        }
        // fileId.addEventListener('change', (e) => {
        //     fileSelected.textContent = e.target.files[0].name;
        // })
        const inputMode = document.querySelector('input#modes');
        const spanMode = document.querySelector('span#mode');
        inputMode.onchange = (e) => {
            if(inputMode.checked) {
                spanMode.textContent = "Download mode:";
                document.querySelector('#documents-wrapper button').classList.toggle('mode');
                document.querySelector('#documents-wrapper button').value = "download";
            } else {
                spanMode.textContent = "Delete mode:";
                document.querySelector('#documents-wrapper button').classList.toggle('mode');
                document.querySelector('#documents-wrapper button').value = "delete";
            }
        }
        const txtArea = document.querySelector('textarea');
        txtArea.addEventListener('keyup', (e) => {
            let remainder = e.target.maxLength - e.target.textLength;
            e.target.previousElementSibling.lastElementChild.textContent = remainder + " remaining."
        })
    </script>
    <script>
        const dialogSettings = document.querySelector('dialog#settings');
        const fmSettings = document.querySelector("form[name='fm-settings']");
        const imgSettings = document.querySelector('img[alt="settings-icon"]');
        imgSettings.onclick = function (e) {
            dialogSettings.showModal();
        }
        function closeModal(e) {
            e.offsetParent.close();
            fmSettings.reset();
        }
        const passwords = fmSettings.querySelectorAll('input[type="password"]');
        const hideUnhide = document.querySelector('#hide-unhide');
        hideUnhide.addEventListener('change', (e) => {
            if (e.target.checked) {
                passwords.forEach(password => {
                    password.type = 'text'
                })
            } else {
                passwords.forEach(password => {
                    password.type = 'password'
                })
            }
        })
        fmSettings.addEventListener('change', (e) => {
            if (e.target.type === 'text' && e.target.dataset.value === e.target.value) {
                e.target.disabled = true;
                e.target.classList.add('true');
                e.target.nextElementSibling.disabled = false;
                e.target.nextElementSibling.classList.remove('true');
            } else if (e.target.type === 'password' && e.target.dataset.value === e.target.value) {
                e.target.disabled = true;
                e.target.classList.add('true');
                e.target.nextElementSibling.disabled = false;
                e.target.nextElementSibling.classList.remove('true');
            }
        })
        const registerBtn = document.querySelector('#register-btn');
        registerBtn.onclick = function () {
            location.href = './register.html';
        }
    </script> -->
</body>
</html>