<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" /> -->
    <link rel="stylesheet" href="../style/index.css">
    <title>Home</title>
</head>
<body>
    <header>
        <p></p>
        <button type="button">
            <img src="" alt="Photo" id="avatar"/>
        </button>
    </header>
    <main>
        <aside>
            <button type="button" class="active"><img src="../img/9035117_person_icon.png" alt="Profile"></button>
            <button type="button"><img src="../img/1737368_comment_description_outline_problem_task_icon.png" alt="Tasks"/><!--span class="material-symbols-outlined">assignment</span--></button>
            <button type="button"><img src="../img/4213412_compose_document_edit_pen_pencil_icon.png" alt="Edit"></button>
            <button type="button" id="logout-btn"><img src="../img/1564506_close_exit_logout_power_icon.png" alt="Log out"></button>
            <!-- <button type="button"><img src="../img/3669170_home_ic_icon.png" alt="Home"></button> -->
            <!-- <button type="button">collection</button> -->
        </aside>
        <nav id="profile-nav" class="active">
            <div id="admission_no">
                <h3 class="active">Admission Number</h3>
                <span></span>
            </div>
            <div id="full_name">
                <h3>Full name</h3>
                <span></span>
            </div>
            <div id="class">
                <h3>Class</h3>
                <span></span>
            </div>
            <div id="arm">
                <h3>Arm</h3>    
                <span></span>
            </div>
            <div id="gender">
                <h3>Gender</h3>
                <span></span>
            </div>
        </nav>
        <nav id="subject-nav">
            <h3>context <span class="gt">&nbsp;&gt;&nbsp;</span> <span id="ctx-txt"></span></h3>
            <div id="subject-navs">
                <hr/>
                <div class="inner opened">
                    <span class="selected-context"><a href="#">Note</a></span>
                    <span class="selected-context"><a href="#">Exercise</a></span>
                    <span class="selected-context"><a href="#">Test</a></span>
                    <!-- <span class="selected-context"><a href="#">Quiz</a></span> -->
                </div>
                <div class="inner">
                    
                </div>
            </div>
        </nav>
        <nav id="editProfile-nav">
            <form name="formUser">
                <h3>Change username<i></i><i>&check;</i></h3>
                <label for="currentUsername">Current username</label>
                <input type="text" id="currentUsername" name="currentUsername" placeholder="Enter current username" autocomplete="off" data-value="default" required/>
                <label for="newUsername">New username</label>
                <input type="text" id="newUsername" name="email" placeholder="Enter new username" autocomplete="off" maxlength="20" required />
                <input type="submit" value="Submit username">
            </form>
            <hr/>
            <form name="formPass">
                <h3>Change password<i></i><i>&check;</i></h3>
                <label for="currentPassword">Current Password</label>
                <input type="password" id="currentPassword" name="currentPassword" placeholder="Enter current password" data-value="default" required />
                <label for="newPassword">New password</label>
                <input type="password" id="newPassword" name="password" placeholder="Enter new password" minlength="4" maxlength="8" required/>
                <label for="newPasswordConfirm">Confirm new password</label>
                <input type="password" id="newPasswordConfirm" name="password" placeholder="Confirm new password" minlength="4" maxlength="8" required/>

                <label for="hide__unhide">
                    <input type="checkbox" id="hide__unhide" /> Show/hide password
                </label>
                <input type="submit" value="Submit password">
            </form>
        </nav>
        <section>
            <div id="timeline-bar">
                <h1>Welcome to the Online Portal</h1>
                <div class="panel__details">
                    <img src="../img/9035117_person_icon.png" alt="profile">
                    <p>View and verify your identity by checklisting the bio-data provided on this panel.</p>
                </div>
                <div class="panel__details">
                    <img src="../img/1737368_comment_description_outline_problem_task_icon.png" alt="activites">
                    <p>Explore the various contexts of Notes, Exercise, etc., then click the desired subject to be able to view and download the materials available in that context.</p>
                </div>
                <div class="panel__details">
                    <img src="../img/326602_create_edit_pencil_write_icon.png" alt="edit">
                    <p>Personalize your profile by setting a friendlier, easy-to-remember username and password.</p>
                </div>
            </div>
        </section>
    </main>
    <footer></footer>
    <script type="module" src="../src/bundle.js"></script>
    <script>
        const navs = document.querySelectorAll('nav');
        const asideButtons = document.querySelectorAll('aside button');
        asideButtons.forEach((btn, ind) => {
            btn.addEventListener('click', (e) => {
                asideButtons.forEach(b => {
                    b.classList.remove("active")
                })
                navs.forEach(nav => {
                    nav.classList.remove('active');
                });
                e.target.classList.add('active');
                navs[ind].classList.add("active")
            })
        })

        const ctxButton = document.querySelector('#subject-nav h3');
        const selectedCtxs = document.querySelectorAll('span.selected-context');
        const outerDiv = document.querySelector('#subject-navs');
        const innerDivs = document.querySelectorAll('.inner');

        selectedCtxs.forEach(ctx => {
            ctx.addEventListener('click', (e) => {
                document.querySelector('span#ctx-txt').textContent = e.target.textContent;
                outerDiv.style.justifyContent = 'flex-end';
                innerDivs[1].classList.add('opened');
                innerDivs[0].classList.remove('opened');
            })
        }) 

        ctxButton.onclick = function () {
            document.querySelector('span#ctx-txt').textContent = '';
            outerDiv.style.justifyContent = 'flex-start';
            innerDivs[0].classList.add('opened');
            innerDivs[1].classList.remove('opened');
        }

        const logoutBtn = document.querySelector('#logout-btn');
        logoutBtn.onclick = (e) => {
            window.sessionStorage.clear();
            window.location.replace("./logon.html");
            // window.history.replaceState(null, '', "./logon.html");
        }
    </script>
</body>
</html>