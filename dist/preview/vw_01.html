<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="vw_01.css">
    <title>Preview</title>
</head>
<body>
    <main>
        <div class="section">
            <h2>Other features</h2>
            <div class="section__content">
                <div>
                    <h4>Sub-feature 1</h4>
                    <p>Title 1: Description Lorem ipsum dolor sit amet consectetur adipisicing elit. Non labore magni ut! Consequuntur nam, quo beatae facere voluptatem illo labore quis porro explicabo inventore repellendus fuga. Corrupti expedita illo accusamus.</p>
                </div>
                <div>
                    <div class="slider__wrapper">
                        <div class="slider">
                            <img src="img/pink_panther_birthcert.jpg" alt="" id="sf1">
                            <pre style="display: none;">
                                <details>
                                    <summary>Manage Staff Subjects</summary>
                                    <p>Here, Admin can set and update the various subjects taken by a teacher.</p>
                                </details>
                                <details>
                                    <summary>Manage Staff Classes</summary>
                                    <p>Also, Admin can set and update the class(es) of a particular teacher.</p>
                                </details>
                                <details>
                                    <summary>Manage Master of Form</summary>
                                    <p>Admin can set and update the form master or mistress of a certain class.</p>
                                </details>
                                <details>
                                    <summary>Set Stamp</summary>
                                    <p>Admin can upload the school's stamp to be dynamically applied on each student's report card.</p>
                                </details>
                            </pre>
                            <img src="img/senior_subject_aside.JPG" alt="" id="sf2">
                            <pre style="display: none;">
                                <details>
                                    <summary>Subjects and Arms</summary>
                                    <p>This displays an editable list of the subjects and arms used in the school.</p>
                                </details>
                            </pre>
                            <img src="img/student_management.JPG" alt="" id="sf3">
                            <pre style="display: none;">
                                <details>
                                    <summary>Junior & Senior Subjects</summary>
                                    <p>Admin can add, modify and delete subjects offered by juniors and seniors.</p>
                                </details>
                                <details>
                                    <summary>Arms</summary>
                                    <p>Admin can add and edit the arms that are used by the school.</p>
                                </details>
                                <details>
                                    <summary>Change of Subject</summary>
                                    <p>Sometimes, a senior student may have need of change of subject; this feature is for that.</p>
                                </details>
                                <details>
                                    <summary>Multiple Entries</summary>
                                    <p>Where a student may have more than one registered account, here is where to get rid of repetitive accounts.</p>
                                </details>                        
                            </pre>
                        </div>
                        <div class="nav__dots">
                            <a href="#sf1" class="dots"></a>
                            <a href="#sf2" class="dots"></a>
                            <a href="#sf3" class="dots"></a>
                            <!-- <button type="button" class="dots"></button>
                            <button type="button" class="dots"></button>
                            <button type="button" class="dots"></button> -->
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <div class="section__content">
                <div>
                    <h4>Sub-feature 2</h4>
                    <p>Title 2: Description Lorem ipsum dolor sit amet consectetur adipisicing elit. Non labore magni ut! Consequuntur nam, quo beatae facere voluptatem illo labore quis porro explicabo inventore repellendus fuga. Corrupti expedita illo accusamus.</p>
                </div>
                <div>
                    <div class="slider__wrapper">
                        <div class="slider">
                            <img src="img/master_of_form_settings.JPG" alt="" id="sf1">
                            <pre style="display: none;">
                                <details>
                                    <summary>Manage Staff Subjects</summary>
                                    <p>Here, Admin can set and update the various subjects taken by a teacher.</p>
                                </details>
                                <details>
                                    <summary>Manage Staff Classes</summary>
                                    <p>Also, Admin can set and update the class(es) of a particular teacher.</p>
                                </details>
                                <details>
                                    <summary>Manage Master of Form</summary>
                                    <p>Admin can set and update the form master or mistress of a certain class.</p>
                                </details>
                                <details>
                                    <summary>Set Stamp</summary>
                                    <p>Admin can upload the school's stamp to be dynamically applied on each student's report card.</p>
                                </details>
                            </pre>
                            <img src="img/senior_subject_aside.JPG" alt="" id="sf2">
                            <pre style="display: none;">
                                <details>
                                    <summary>Subjects and Arms</summary>
                                    <p>This displays an editable list of the subjects and arms used in the school.</p>
                                </details>
                            </pre>
                            <img src="img/student_management.JPG" alt="" id="sf3">
                            <pre style="display: none;">
                                <details>
                                    <summary>Junior & Senior Subjects</summary>
                                    <p>Admin can add, modify and delete subjects offered by juniors and seniors.</p>
                                </details>
                                <details>
                                    <summary>Arms</summary>
                                    <p>Admin can add and edit the arms that are used by the school.</p>
                                </details>
                                <details>
                                    <summary>Change of Subject</summary>
                                    <p>Sometimes, a senior student may have need of change of subject; this feature is for that.</p>
                                </details>
                                <details>
                                    <summary>Multiple Entries</summary>
                                    <p>Where a student may have more than one registered account, here is where to get rid of repetitive accounts.</p>
                                </details>                        
                            </pre>
                        </div>
                        <div class="nav__dots">
                            <a href="#sf1" class="dots"></a>
                            <a href="#sf2" class="dots"></a>
                            <a href="#sf3" class="dots"></a>
                            <!-- <button type="button" class="dots"></button>
                            <button type="button" class="dots"></button>
                            <button type="button" class="dots"></button> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <dialog id="detailsBox">
        <div>
            <span class="times" onclick="closeDialog()">&times;</span>
        </div>
        <div>
            <canvas></canvas>
            <!-- <button type="button" id="lft-btn">Left</button> -->
            <output></output>
        </div>
    </dialog>

    <script>
        const dialog = document.getElementById('detailsBox');
        const imgs = document.querySelectorAll('.slider img');
        imgs.forEach(img => {
            img.addEventListener('click', (e) => {
                // console.log()
                let timeoutId, i;
                for (i = 1; i < 5; i++) {
                    timeoutId = setTimeout(paint, 500 * i, arr[i], img, i);
                }
                // loadDialog(img);
                dialog.querySelector('output').innerHTML = e.target.nextElementSibling.innerHTML;
                dialog.show();
            })
        })

        function closeDialog() {
            dialog.close();
        }

        const canvas = document.querySelector('dialog canvas');
        const c = canvas.getContext('2d');
        let w = canvas.width = 600;
        let h = canvas.height = 600;
        const halfWidth = w / 2;
        const halfHeight = h / 2;

        // function loadDialog(img) {
        //     // canvas.width = nw;
        //     // canvas.height = nh;
        //     c.drawImage(img, 0, 0, 400, 400);
        // }

        let arr = [,
            [0, 0, halfWidth, halfHeight],
            [halfWidth, halfHeight, halfWidth, halfHeight],
            [halfWidth, 0, halfWidth, halfHeight],
            [0, halfHeight, halfWidth, halfHeight],
        ];

        function paint(a, img, i) {
            let nw = img.naturalWidth / 2;
            let nh = img.naturalHeight / 2;
            
            switch (true) {
                case i === 1:
                    a.splice(0, 0, 0, 0, nw, nh);
                    break;
                case i === 2:
                    a.splice(0, 0, nw, nh, nw, nh);
                    break;
                case i === 3:
                    a.splice(0, 0, nw, 0, nw, nh);
                    break;
                case i === 4:
                    a.splice(0, 0, 0, nh, nw, nh);
                    break;
            }
            // console.log(a)
            c.drawImage(img, ...a);
        }

        // console.log("running")
        // const leftButton = document.getElementById('lft-btn');
        // leftButton.onclick = function () {
        //     c.drawImage()
        // }
    </script>
</body>
</html>